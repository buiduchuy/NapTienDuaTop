<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>N·∫°p ti·ªÅn Tranh ƒê·∫•u - BOOYAH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // ƒê·ªãnh nghƒ©a m√†u s·∫Øc th∆∞∆°ng hi·ªáu cho Tailwind
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "booyah-primary": "#FF4757", // ƒê·ªè/H·ªìng n·ªïi b·∫≠t
              "booyah-secondary": "#1e3a8a", // Xanh ƒë·∫≠m
            },
            boxShadow: {
              "3xl": "0 35px 60px -15px rgba(0, 0, 0, 0.3)",
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="bg-gray-50 flex flex-col items-center justify-center min-h-screen p-4"
  >
    <div
      class="max-w-6xl w-full mx-auto flex-grow flex flex-col justify-center"
    >
      <h1
        class="text-4xl font-extrabold text-center mb-8 text-booyah-secondary"
      >
        üí∞ <span class="text-booyah-primary">N·∫°p Ti·ªÅn</span> v√†o T√†i Kho·∫£n
      </h1>

      <div
        class="flex flex-col lg:flex-row space-y-8 lg:space-y-0 lg:space-x-8 items-stretch justify-center"
      >
        <form
          id="depositForm"
          class="bg-white p-8 rounded-2xl shadow-xl w-full lg:w-1/2 transition duration-500 hover:shadow-2xl border-t-4 border-booyah-primary"
        >
          <h2 class="text-2xl font-bold mb-6 text-gray-800">
            1. Nh·∫≠p S·ªë Ti·ªÅn N·∫°p
          </h2>

          <div class="mb-4">
            <label
              for="amount"
              class="block text-left text-sm font-medium text-gray-700 mb-1"
              >S·ªë ti·ªÅn (VND):</label
            >
            <input
              type="number"
              id="amount"
              placeholder="V√≠ d·ª•: 50000"
              min="1000"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-booyah-primary focus:border-booyah-primary transition duration-200 text-lg"
              required
            />
          </div>

          <p class="text-xs text-gray-500 text-left mb-6">
            *S·ªë ti·ªÅn t·ªëi thi·ªÉu l√† <span class="font-bold">1.000 VND</span>.
          </p>

          <button
            type="submit"
            class="w-full bg-booyah-primary text-white font-bold py-3 rounded-lg shadow-lg hover:bg-red-600 transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-red-300 text-lg"
          >
            T·∫°o M√£ QR Thanh To√°n
          </button>

          <a
            href="/dashboard"
            class="block mt-4 text-center text-sm text-gray-500 hover:text-booyah-secondary transition duration-200"
          >
            &larr; Quay l·∫°i Dashboard
          </a>
        </form>

        <div
          id="qrBox"
          class="bg-white p-8 rounded-2xl shadow-xl w-full lg:w-1/2 text-center border-t-4 border-booyah-secondary transition duration-500 opacity-0 hidden flex flex-col justify-between"
        >
          <div>
            <h2
              class="text-2xl font-bold mb-4 text-booyah-secondary animate-pulse"
            >
              2. Qu√©t M√£ Thanh To√°n
            </h2>

            <p class="text-sm text-gray-600 mb-4">
              S·ª≠ d·ª•ng ·ª©ng d·ª•ng ng√¢n h√†ng c·ªßa b·∫°n ƒë·ªÉ qu√©t m√£ QR b√™n d∆∞·ªõi.
            </p>

            <div class="p-2 bg-gray-100 rounded-lg inline-block shadow-md">
              <img
                id="qrImage"
                src=""
                alt="QR Code"
                class="mx-auto w-72 h-72 border-4 border-white rounded transition-opacity duration-500"
              />
            </div>

            <div
              class="mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200"
            >
              <p class="font-semibold text-sm text-yellow-700 mb-1">
                L∆ØU √ù QUAN TR·ªåNG:
              </p>
              <p class="text-sm text-gray-700">
                N·ªôi dung chuy·ªÉn kho·∫£n m·∫∑c ƒë·ªãnh:
                <span id="depositDes" class="font-bold text-booyah-primary"
                  >SEVQR</span
                >
              </p>
              <p class="text-sm text-gray-700">
                S·ªë t√†i kho·∫£n:
                <span id="depositAcc" class="font-bold text-booyah-primary"
                  >888845515555</span
                >
                (Vietinbank)
              </p>
            </div>

            <p class="mt-4 text-sm font-medium text-green-600">
              Vui l√≤ng ch·ªù <span class="font-bold">1‚Äì5 ph√∫t</span> ƒë·ªÉ h·ªá th·ªëng
              t·ª± ƒë·ªông c·ªông ti·ªÅn sau khi qu√©t th√†nh c√¥ng.
            </p>
          </div>

          <button
            id="confirmDepositBtn"
            type="button"
            class="w-full mt-6 bg-green-600 text-white font-bold py-3 rounded-lg shadow-lg hover:bg-green-700 transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-green-300 text-lg animate-pulse"
          >
            X√°c nh·∫≠n ƒê√£ N·∫°p Ti·ªÅn
          </button>
        </div>
      </div>
    </div>

    <footer
      class="mt-12 w-full max-w-6xl pt-4 border-t border-gray-200 text-center text-gray-500 text-sm"
    >
      <p>B·∫£n quy·ªÅn &copy; 2025 BOOYAH N·∫°p Ti·ªÅn. M·ªçi quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
      <div class="mt-1 space-x-4">
        <a
          href="/terms"
          class="hover:text-booyah-primary transition duration-200"
          >ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a
        >
        <span class="text-gray-300">|</span>
        <a
          href="/privacy"
          class="hover:text-booyah-primary transition duration-200"
          >Ch√≠nh s√°ch b·∫£o m·∫≠t</a
        >
      </div>
    </footer>

    <script>
      const form = document.getElementById("depositForm");
      const qrBox = document.getElementById("qrBox");
      const qrImage = document.getElementById("qrImage");
      const amountInput = document.getElementById("amount");
      const createQrButton = form.querySelector("button");
      const confirmDepositBtn = document.getElementById("confirmDepositBtn");

      const acc = "888845515555";
      const bank = "Vietinbank";
      const des = "SEVQR";
      const MIN_AMOUNT = 1000;

      document.getElementById("depositAcc").textContent = acc + " (Vietinbank)";
      document.getElementById("depositDes").textContent = des;

      // --- H√ÄM X·ª¨ L√ù HI·ªÇN TH·ªä QR ---
      function showQRBox() {
        qrBox.classList.remove("hidden");
        // K√≠ch ho·∫°t hi·ªáu ·ª©ng fade-in
        setTimeout(() => {
          qrBox.classList.add("opacity-100");
        }, 50);

        // C·∫≠p nh·∫≠t tr·∫°ng th√°i Form
        amountInput.disabled = true;
        createQrButton.textContent = "Thay ƒë·ªïi s·ªë ti·ªÅn";
        createQrButton.classList.remove(
          "bg-booyah-primary",
          "hover:bg-red-600"
        );
        createQrButton.classList.add("bg-gray-500", "hover:bg-gray-600");
      }

      // --- H√ÄM X·ª¨ L√ù ·∫®N QR ---
      function hideQRBox() {
        // T·∫Øt hi·ªáu ·ª©ng fade-out
        qrBox.classList.remove("opacity-100");

        setTimeout(() => {
          qrBox.classList.add("hidden");
        }, 300);

        // C·∫≠p nh·∫≠t tr·∫°ng th√°i Form
        amountInput.disabled = false;
        createQrButton.textContent = "T·∫°o M√£ QR Thanh To√°n";
        createQrButton.classList.remove("bg-gray-500", "hover:bg-gray-600");
        createQrButton.classList.add("bg-booyah-primary", "hover:bg-red-600");
      }

      // --- EVENT LISTENER CHO FORM (T·∫†O/THAY ƒê·ªîI QR) ---
      form.addEventListener("submit", function (event) {
        event.preventDefault();
        const amount = amountInput.value;

        if (parseInt(amount) < MIN_AMOUNT) {
          alert(
            `S·ªë ti·ªÅn n·∫°p t·ªëi thi·ªÉu l√† ${MIN_AMOUNT.toLocaleString(
              "vi-VN"
            )} VND.`
          );
          return;
        }

        if (!amountInput.disabled) {
          // L·∫ßn ƒë·∫ßu t·∫°o QR
          const url = `https://qr.sepay.vn/img?acc=${acc}&bank=${bank}&amount=${amount}&des=${des}`;
          qrImage.src = url;
          showQRBox();
        } else {
          // Thay ƒë·ªïi s·ªë ti·ªÅn
          hideQRBox();
        }
      });

      // --- EVENT LISTENER CHO N√öT X√ÅC NH·∫¨N CU·ªêI C√ôNG ---
      confirmDepositBtn.addEventListener("click", function () {
        confirmDepositBtn.textContent = "ƒêang x·ª≠ l√Ω...";
        confirmDepositBtn.classList.remove("animate-pulse");

        setTimeout(() => {
          alert(
            `‚úÖ Y√™u c·∫ßu n·∫°p ti·ªÅn ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n. Vui l√≤ng ch·ªù 1 ƒë·∫øn 5 ph√∫t ƒë·ªÉ h·ªá th·ªëng x√°c nh·∫≠n th√†nh c√¥ng.`
          );
          window.location.href = "/dashboard";
        }, 500);
      });

      // Thi·∫øt l·∫≠p ban ƒë·∫ßu
      qrBox.classList.add("opacity-0");
    </script>
  </body>
</html>
